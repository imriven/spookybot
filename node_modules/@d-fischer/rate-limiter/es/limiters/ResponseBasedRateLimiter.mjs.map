{"version":3,"file":"ResponseBasedRateLimiter.mjs","sourceRoot":"","sources":["../../src/limiters/ResponseBasedRateLimiter.ts"],"names":[],"mappings":"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"}