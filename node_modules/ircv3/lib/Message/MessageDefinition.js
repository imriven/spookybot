"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageParamDefinition = exports.MessageType = void 0;
const Message_1 = require("./Message");
// eslint-disable-next-line @typescript-eslint/ban-types
const isMessageType = (ctor) => Object.prototype.isPrototypeOf.call(Message_1.Message, ctor);
const MessageType = (commandName) => target => {
    if (!isMessageType(target)) {
        throw new Error('You need to extend the Message class to use the MessageType decorator');
    }
    target.COMMAND = commandName;
};
exports.MessageType = MessageType;
const MessageParamDefinition = (spec = {}) => (target, propertyKey) => {
    var _a;
    if (!(target instanceof Message_1.Message)) {
        throw new Error('You need to extend the Message class to use the MessageParam decorator');
    }
    if (typeof propertyKey !== 'string') {
        return;
    }
    const cls = target.constructor;
    ((_a = cls.PARAM_SPEC) !== null && _a !== void 0 ? _a : (cls.PARAM_SPEC = {}))[propertyKey] = spec;
};
exports.MessageParamDefinition = MessageParamDefinition;
